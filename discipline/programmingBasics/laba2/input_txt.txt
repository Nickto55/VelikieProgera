Лабораторная работа №9. Работа с файлами
Цель работы: получение навыков чтения и записи информации из файлов.
Методические указания.
В языке Си существует два стиля работы с файлами: либо с помощью
файлового указателя, либо с помощью файлового дескриптора. Последний
способ иногда называют низкоуровневым доступом к файлам. Он чуть более
сложен, чем первый, но зато обладает более широкими возможностями. В
этой лабораторной работе предполагается знакомство с доступом к файлам
посредством файлового указателя.
Файловый указатель это указатель вида
FILE *fp;
где FILE это структура, описанная в одном из стандартных заголовочных
файлов языка Си.
В программе можно одновременно работать с неограниченным
количеством файлов, но каждый из них должен быть сопоставлен со своим
файловым указателем. Для этого файл надо открыть с помощью
библиотечной функции fopen(), указав в качестве параметров имя файла и
способ его использования (чтение или запись). Перед выходом из программы
с помощью функции fclose() следует закрыть каждый открытый файл. В
принципе, при выходе из программы операционная система самостоятельно
закроет все открытые файлы, так что файлы, открытые для чтения, можно не
закрывать. А вот файлы, открытые для записи, закрывать строго необходимо,
иначе может потеряться часть содержимого этих файлов.
После того, как файл успешно открыт, можно читать из него или
писать в него информацию, использую стандартные библиотечные функции,
например: fgets(), fputs(), fread(), fwrite(), fscanf(), fprintf() и т.д.
Важным моментом при чтении из файла является организация цикла
чтения, пока содержимое файла не будет прочитано полностью. Для этого,
56
как правило, используется библиотечная функция feof(). Она возвращает
нулевое значение до тех пор, пока файл не исчерпан, и единичное значение,
если достигнут конец файла.
Задача. Скопировать содержимое текстового файла, удалив все слова,
кроме первого слова каждой строки .
Программа, реализующая данную задачу, представлена ниже.